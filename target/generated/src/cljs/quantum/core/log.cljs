(ns quantum.core.log
  (:refer-clojure :exclude [pr])
  (:require
    [quantum.core.ns :as ns :refer
                               
             [Exception IllegalArgumentException
              Nil Bool Num ExactNum Int Decimal Key Vec Set
              ArrList TreeMap LSeq Regex Editable Transient Queue Map]]
    [quantum.core.time.core :as time]
    [quantum.core.string :as str]
    [                                cljs.core.async :as async
                   
                                  
             :refer
             [<! >! alts! chan]])
        
  (:require-macros
    [cljs.core.async.macros :refer [go-loop go]])
       
          
                    
                                      
                    
                                               
                                                                      
                    )

(def ^:dynamic *prs* (atom #{:warn :user})) ; alert, inspect, debug
(def log  (atom []))
(def vars (atom {}))
(defn cache! [k v]
  (swap! vars assoc k v))
(def statuses (atom (chan)))
(def errors (atom []))
(defn error [throw-context]
  (swap! errors conj
    (update throw-context :stack-trace vec)))
(defrecord LogEntry
  [time-stamp ; ^DateTime  
   type       ; ^Keyword   
   ns-source  ; ^Namespace 
   message])  ; ^String    
(defn disable!
  ([^Keyword pr-type]
    (swap! *prs* disj pr-type))
  ([^Keyword pr-type & pr-types]
    (apply swap! *prs* disj pr-type pr-types)))
(defn enable!
  ([^Keyword pr-type]
    (swap! *prs* conj pr-type))
  ([^Keyword pr-type & pr-types]
    (apply swap! *prs* conj pr-type pr-types)))

            
                                                          
                                                       

                                                    
                  
                      
                         
                      
                                              
                
                                
                        
                                                                   
                 
                                        
                    
                                                     
            

     
            
                                                          
              
                
                                  
                           
                                      
        
                     
                                    

     
                         
                                                          
             
                        
;;;;;;;;;;;; This file autogenerated from src/cljx/quantum/core/log.cljx
